# What is it?

Idea behind this demo project was to check how we could avoid boilerplate code on writing integration with external APIs.

If you have an external service that provides documentation in OpenAPI 3.x format, we could use it to generate API client.

Here we have a Django app (`demoapp`). That could serve openapi schema (yaml) with help of [drf-spectacular](https://github.com/tfranzel/drf-spectacular) on `http://localhost:8000/openapi/`.

To generate API client I used [openapi-python-client](https://github.com/openapi-generators/openapi-python-client).

`$ openapi-python-client generate --url http://localhost:8000/openapi/`

It created `demo-api-client` folder which contains API client which could be used as dependency and provided to consumers.

In case you use `pip`, just build a wheel and install in dev environment.

`poetry build -f wheel`

`pip install demo-api-client/dist/*.whl`

Now you could work with autogenerated models and endpoints (see readme in `demo-api-client` for more examples).

```python
from demo_api_client import Client
from demo_api_client.api.api import api_v1_books_list as get_all_books
from demo_api_client.models import PaginatedBookList

client = Client(base_url="http://localhost:8000")

with client as client:
    books: PaginatedBookList | None = get_all_books.sync(client=client)
    print(books)
```
